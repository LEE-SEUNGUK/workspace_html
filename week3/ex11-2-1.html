<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            margin: 0; left: 0; background-color: lightblue;
        }
    </style>
</head>
<body>
    <canvas id="myCanvas" width="420px" height="420px" style="background-color: white; margin: 20px;">
    </canvas>
    <button onclick="fn_draw()">격자 그리기</button>
    <script>
        let w = 400;
        let h = 400;
        let p = 10;
        let canvas = document.getElementById("myCanvas");
        let context = canvas.getContext('2d');
        let arr = [];
        function fn_draw() {
            // 가로 10, 세로 10
            context.beginPath();

            for (let i = p; i <= h + p; i += 40) {
                // x만 변화
                context.moveTo(i, p);
                context.lineTo(i, p + h);
                // y만 변화
                context.moveTo(p, i);
                context.lineTo(p + h, i);
                arr.push(i);
            }

            context.strokeStyle = "black";
            context.stroke();
        }

        canvas.addEventListener("click", function(e) {
            console.log(e.offsetX, ",", e.offsetY);
            console.log(arr);
            // 사각형 그리는 함수는 사각형의 왼쪽 상단 꼭지점을 시작으로 사각형을 그림
            // 클릭시 그려지는 네모는 동일하게 40 x 40이기 때문에

            context.beginPath();
            context.fillStyle = "aliceblue";
            context.rect(e.offsetX, e.offsetY, 40, 40);
            context.fill();
        });
    </script>
</body>
</html>